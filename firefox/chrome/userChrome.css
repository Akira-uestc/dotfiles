@import 'sidebar.css';

* {
  font-family: sans-serif !important;
  font-size: 10pt !important;
}

:root {
  --navbar-height: 48px;              /* 导航栏高度 */
  --wc-height: 10px;                  /* 窗口控制按钮高度 */
  --wc-left-margin: 10px;             /* 窗口控制按钮左边距 */
  --wc-red: hsl(-10, 90%, 60%);       /* 关闭按钮 */
  --wc-yellow: hsl(50, 90%, 60%);     /* 最小化按钮 */
  --wc-green: hsl(160, 90%, 40%);     /* 最大化按钮 */
  --sidebar-collapsed-width: 40px;    /* 侧边栏折叠宽度 */
  --sidebar-width: 250px;             /* 侧边栏展开宽度 */
  --urlbar-min-height: 28px !important;
  --navbar-toolbar-height: 34px !important;
}

/* 允许拖动窗口 */
#navigator-toolbox {
  -moz-window-dragging: drag;
  position: relative !important; /* 作为定位容器 */
}

/* 标题栏样式 */
#titlebar {
  appearance: none !important;
}

/* ============================= */
/* 🦊 狐狸模式下的定制 */
/* ============================= */
#main-window[titlepreface*="🦊 "] {
  /* 隐藏标签页 */
  .tabbrowser-tab { visibility: collapse !important; }

  /* 标题栏按钮高度 */
  .titlebar-button { height: 40px !important; }

  /* 导航栏位置 */
  #nav-bar {
    margin: -40px 137px 0 0;
    box-shadow: none !important;
  }

  /* 标题栏背景 */
  #titlebar-spacer,
  #titlebar-buttonbox-container {
    background-color: var(--chrome-secondary-background-color);
  }

  /* 标题栏颜色 */
  .titlebar-color {
    background-color: var(--toolbar-bgcolor);
  }
}

/* 隐藏标签栏内容 */
#TabsToolbar .toolbar-items {
  display: none !important;
}

/* 标签工具栏定位 */
#TabsToolbar.browser-toolbar {
  display: block !important;
  position: absolute;
  right: 0;
  top: calc((var(--navbar-height) - var(--wc-height)) / 2);
}

/* 导航栏设置 */
#nav-bar {
  padding: calc((var(--navbar-height) - 40px) / 2) 0;
  padding-left: 80px !important; /* 避免重叠 */
}

/* 地址栏设置 */
#urlbar {
  --urlbar-toolbar-height: 40px !important;
  z-index: 200 !important;
}

/* 工具栏按钮图标大小 */
toolbarbutton { 
  --toolbarbutton-icon-size: 18px !important;
}

/* 隐藏隐私浏览标识 */
#private-browsing-indicator-with-label {
  display: none !important;
}

/* 隐藏 TST 侧边栏头部 */
#sidebar-box[sidebarcommand='treestyletab_piro_sakura_ne_jp-sidebar-action'] #sidebar-header {
  display: none;
}

/* 侧边栏容器 */
#sidebar-box {
  z-index: 100 !important;
  position: relative !important;
  min-width: var(--sidebar-collapsed-width) !important;
  max-width: var(--sidebar-collapsed-width) !important;
}

/* ============================= */
/* 标题栏按钮优化 */
/* ============================= */
#navigator-toolbox .titlebar-buttonbox-container {
  position: absolute !important;
  top: 2px; 
  left: var(--wc-left-margin) !important;  /* 改成左边距 */
  right: auto !important;                  /* 取消右对齐 */
  z-index: 9999;
  display: flex !important;
  align-items: center;
  pointer-events: auto !important;
}

/* 避免 TabsToolbar 左边元素重叠 */
#TabsToolbar,
#toolbar-menubar {
  padding-left: 80px !important;  /* 原本是 padding-right */
}

#TabsToolbar .titlebar-buttonbox-container {
  visibility: hidden !important; /* 避免重复 */
}

#navigator-toolbox .titlebar-buttonbox {
  height: 35px !important; /* 贴合工具栏 */
}

